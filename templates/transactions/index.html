{% extends "base.html" %}
{% block content %}
<header class="header"><h1>Spending tracker - All Transactions</h1></header> 

<div class = "main">
<br>This will be the transactions page, also the main page of the app. There will be a table with all the transaction details in, including merchant and tag info. <br><br>
<a href = "/budget_info">Budget</a>
<a href = "/merchants">Merchants</a>
<a href = "/tags">Tags</a>
<a href = "/transactions/new">New Transaction</a><br><br>


<table class="transaction_table">
  <tr class="table_header">
    <th><i class="far fa-calendar-alt"></i></th>
    <th><i class="fas fa-pound-sign"></i></th>
    <th><i class="fas fa-cash-register"></i></th>
    <th><i class="fas fa-tags"></i></th>
    <th></th>
    <th></th>
  </tr>
{% for transaction in transactions %}
    <tr class="table_row">
        <td>{{transaction.date}}</td>
        <td><a href="/transactions/{{transaction.id}}">{{transaction.amount}}</a></td>
        <td>{{transaction.merchant.name}}</td>
        <td>{{transaction.tag.name}}</td>
        <td><form action="/transactions/{{transaction.id}}/edit">
            <button id='edit'><i class="far fa-edit"></i></button></td>
            </form>
        <td><form action="transactions/{{transaction.id}}/delete" method = "post">
                <button id='delete'><i class="far fa-trash-alt"></i></button>
            </form>
        </td>
    </tr>
{% endfor %}
</table>
</div>
{% endblock %}